<!DOCTYPE html>
<html>

<head>
    <title>2_jQuery_4_post.html</title>

    <meta name="keywords" content="keyword1,keyword2,keyword3">
    <meta name="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <link rel="stylesheet" type="text/css" href="../css/1basic.css">

</head>

<body>
    <h1>4、jQuery.post(url, [data], [callback], [type])</h1>


    <div class="explaination">
        <pre>
// 不传递数据的get()方法
$("#button").click(function () {
      $.post("../PostServlet", { "fname": "AlanMathison", "lname": "Turing" },function (responseTxt, statusTxt, xhr) {
            if (statusTxt == "success") {
                 console.log("外部内容加载成功！");
                 console.log("responseTxt：" + responseTxt);
                 $("#returnText").html("jQuery--responseTxt：" + responseTxt);
            } else {               //statusTxt == "error"
                console.log("Error: " + xhr.status + ": " + xhr.statusText);
            }
      });
});</pre>
    </div>

    <div class="box">
        <input type="button" value="jQuery.post()" id="button">
        <div id="returnText"></div>
    </div>


    <script src="/AJAX-Servlet/js/jQuery-3.3.0.js"></script>
    <script>

        // jQuery.get(url, [data], [callback], [type])
        // url:待载入页面的URL地址
        // data:待发送 Key/value 参数。
        // callback:载入成功时回调函数。
        // type:返回内容格式，xml, html, script, json, text, _default。

        $("#button").click(function () {
            $.post("../PostServlet", { "fname": "AlanMathison", "lname": "Turing" },function (responseTxt, statusTxt, xhr) {
                console.log("responseTxt：" + responseTxt);
                console.log("statusTxt：" + statusTxt); //success
                console.log("xhr：" + xhr);
                console.log(xhr);
                console.log(xhr.readyState);
                console.log(xhr.status);
                if (statusTxt == "success") {
                    console.log("外部内容加载成功！");
                    console.log("responseTxt：" + responseTxt);
                    $("#returnText").html("jQuery--responseTxt：" + responseTxt);
                } else {               //statusTxt == "error"
                    console.log("Error: " + xhr.status + ": " + xhr.statusText);
                }
            });
        });

    </script>
    <!-- 返回按钮（顶部，主页） -->
    <div id="returnButton"></div>

    <script src="/AJAX-Servlet/js/return_button.js"></script>

</body>

</html>