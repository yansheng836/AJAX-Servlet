<!DOCTYPE html>
<html>

<head>
    <title>3_ajax_jQuery_get.html</title>

    <meta name="keywords" content="keyword1,keyword2,keyword3">
    <meta name="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <link rel="stylesheet" type="text/css" href="./css/1basic.css">
    <<link rel="stylesheet" type="text/css" href="./css/2mysql.css">

</head>

<body>
    <div id="user_reg">用户注册:</div>
    <form action="RegisterServlet" method="post" name="form" onsubmit="" style="border: 2px solid #CCCCCC;">
        <table>
            <tr>
                <td>Username：</td>
                <td><input type="text" id="username" name="username" placeholder="1-10个字符或文字" />
                </td>
            </tr>
            <tr>
                <td>Password：</td>
                <td><input type="password" id="password" name="password" placeholder="1-13个字符" /></td>
            </tr>
            <tr>
                <td>Confirm：</td>
                <td><input type="password" id="ispassword" name="ispassword" /></td>
            </tr>
            <tr>
                <td></td>
                <td><input type="submit" id="submit_form" value="注册" /> <input type="reset" value="重置" />
                </td>
            </tr>
        </table>
    </form>

    <div class="box">
        <div id="returnText"></div>
    </div>


    <script src="/AJAX-Servlet/js/jQuery-3.3.0.js"></script>
    <script>
        $("#username").blur(function () {
            console.log("username元素失去焦点时触发 blur 事件。");

            var username = document.getElementById("username").value;
            console.log("username:" + username);
            var url = "RegisterServlet?username="+username;
            xht = $.ajax({
                url: url,
                async: true,
            });

            console.log(xht);
            console.log(xht.responseText);
            $("#returnText").html(xht.responseText);
        });


        // $("#zhaotestAjax").click(function () {
        //     $.ajax({
        //         url: "Zhao1",
        //         type: "post",
        //         contentType: "application/json",
        //         success: function (result, status) {
        //             var str = result;
        //             alert(str);
        //         }, error: function (res) {
        //         }
        //     });
        // });

    </script>


</body>

</html>